{"remainingRequest":"E:\\大创\\frontend\\node_modules\\babel-loader\\lib\\index.js!E:\\大创\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\大创\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\大创\\frontend\\src\\views\\centralization_FL\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\大创\\frontend\\src\\views\\centralization_FL\\index.vue","mtime":1645628638702},{"path":"E:\\大创\\frontend\\babel.config.js","mtime":1630065466000},{"path":"E:\\大创\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\大创\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\大创\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\大创\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgcnVuRkwsIGdldFJhc1BpLCBnZXRSZXN1bHQsIGdldFN0YXRlIH0gZnJvbSAnQC9hcGkvdXNlcic7CmltcG9ydCBDaXJjdWl0IGZyb20gIi4vY29tcG9uZW50cy9DaXJjdWl0IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJjZW50cmFsaXphdGlvbmZsIiwKICBpbmplY3Q6IFsncmVsb2FkJ10sCiAgY29tcG9uZW50czogewogICAgQ2lyY3VpdDogQ2lyY3VpdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFjdGl2ZXN0ZXA6IDAsCiAgICAgIHN1cHBsaWVyOiBbIkEiLCAiQiIsICJDIiwgIkQiLCAiRSJdLAogICAgICBkZXRhaWw6IFsiLS0iLCAiLS0iLCAiLS0iLCAiLS0iLCAiLS0iXSwKICAgICAgY2lyY3VpdE51bTogNSwKICAgICAgY2lyY3VpdExpc3Q6IFtdLAogICAgICBjaXJjdWl0b3B0aW9uczogW3sKICAgICAgICB2YWx1ZTogJzEnLAogICAgICAgIGxhYmVsOiAn6aqM6K+B55S16LevMScKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAnMicsCiAgICAgICAgbGFiZWw6ICfpqozor4HnlLXot68yJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6ICczJywKICAgICAgICBsYWJlbDogJ+mqjOivgeeUtei3rzMnCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogJzQnLAogICAgICAgIGxhYmVsOiAn6aqM6K+B55S16LevNCcKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAnNScsCiAgICAgICAgbGFiZWw6ICfpqozor4HnlLXot681JwogICAgICB9XSwKICAgICAgY2lyY3VpdHZhbHVlOiAnJywKICAgICAgdHJhaW50aW1lOiAxMDAsCiAgICAgIGRvd25sb2FkOiAn54K55Ye755Sf5oiQJywKICAgICAgc3RhdGU6IFsn5b6F6YCJ55SoJywgJ+W+hemAieeUqCcsICflvoXpgInnlKgnLCAn5b6F6YCJ55SoJywgJ+W+hemAieeUqCddLAogICAgICBjdXJyZW50cGVyY2VudGFnZTogMCwKICAgICAgY3VycmVudHN0YXR1czogbnVsbCwKICAgICAgdXBkYXRldGltZTogJycsCiAgICAgIC8vCiAgICAgIHZhbHVlOiBbZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlXSwKICAgICAgaXNfZmluaXNoOiBmYWxzZQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmluaXRDaXJjdWl0KCk7CiAgfSwKICB3YXRjaDogewogICAgY2lyY3VpdE51bTogZnVuY3Rpb24gY2lyY3VpdE51bSgpIHsKICAgICAgdGhpcy5pbml0Q2lyY3VpdCgpOwogICAgfSwKICAgIGNpcmN1aXR2YWx1ZTogZnVuY3Rpb24gY2lyY3VpdHZhbHVlKCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzLmNpcmN1aXR2YWx1ZSk7CiAgICAgIHRoaXMudmFsdWVbdGhpcy5jaXJjdWl0dmFsdWVdID0gdHJ1ZTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXRDaXJjdWl0OiBmdW5jdGlvbiBpbml0Q2lyY3VpdCgpIHsKICAgICAgdGhpcy5jaXJjdWl0TGlzdCA9IG5ldyBBcnJheSh0aGlzLmNpcmN1aXROdW0pOwoKICAgICAgZm9yICh2YXIgaSA9IDU7IGkgPCB0aGlzLmNpcmN1aXROdW07IGkrKykgewogICAgICAgIHRoaXMuc3RhdGVbaV0gPSAn5b6F6YCJ55SoJzsKICAgICAgICB0aGlzLnZhbHVlW2ldID0gZmFsc2U7CiAgICAgICAgdGhpcy5zdXBwbGllcltpXSA9ICItLSI7CiAgICAgICAgdGhpcy5kZXRhaWxbaV0gPSAiLS0iOwogICAgICB9CiAgICB9LAogICAgc2V0cHJvY2VzczogZnVuY3Rpb24gc2V0cHJvY2VzcyhzdGVwKSB7CiAgICAgIGNvbnNvbGUubG9nKCJzZXQiKTsKICAgICAgdGhpcy5hY3RpdmVzdGVwID0gc3RlcDsKICAgIH0sCiAgICBzdGFydFJ1bjogZnVuY3Rpb24gc3RhcnRSdW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZyh0aGlzLmNpcmN1aXROdW0pOwoKICAgICAgaWYgKHRoaXMuY2lyY3VpdHZhbHVlID09PSAnJykgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+ivt+WFiOmAieaLqeS4gOS4qumqjOivgeeUtei3ry4nKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuc2V0cHJvY2VzcygyKTsKICAgICAgdmFyIGludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmN1cnJlbnRwZXJjZW50YWdlICs9IDE7CiAgICAgICAgX3RoaXMuY3VycmVudHN0YXR1cyA9IG51bGw7CgogICAgICAgIGlmIChfdGhpcy5jdXJyZW50cGVyY2VudGFnZSA9PT0gMTAwKSB7CiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTsKICAgICAgICAgIF90aGlzLmN1cnJlbnRzdGF0dXMgPSAnc3VjY2Vzcyc7CgogICAgICAgICAgX3RoaXMuc2V0cHJvY2VzcygzKTsKCiAgICAgICAgICBfdGhpcy5pc19maW5pc2ggPSB0cnVlOwogICAgICAgICAgX3RoaXMuZG93bmxvYWQgPSAi5bey55Sf5oiQIjsKICAgICAgICB9CiAgICAgIH0sIHRoaXMudHJhaW50aW1lICogNTAwIC8gMTAwMCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;AACA;AACA;AACAA,0BADA;AAEAC,oBAFA;AAGAC;AACAC;AADA,GAHA;AAMAC,MANA,kBAMA;AACA;AACAC,mBADA;AAEAC,yCAFA;AAGAC,4CAHA;AAIAC,mBAJA;AAKAC,qBALA;AAMAC,uBACA;AACAC,kBADA;AACAC;AADA,OADA,EAIA;AACAD,kBADA;AACAC;AADA,OAJA,EAOA;AACAD,kBADA;AACAC;AADA,OAPA,EAUA;AACAD,kBADA;AACAC;AADA,OAVA,EAaA;AACAD,kBADA;AACAC;AADA,OAbA,CANA;AAuBAC,sBAvBA;AAwBAC,oBAxBA;AAyBAC,sBAzBA;AA0BAC,gDA1BA;AA2BAC,0BA3BA;AA4BAC,yBA5BA;AA6BAC,oBA7BA;AA6BA;AACAR,gDA9BA;AA+BAS;AA/BA;AAiCA,GAxCA;AAyCAC,SAzCA,qBAyCA;AACA;AACA,GA3CA;AA4CAC;AACAd;AACA;AACA,KAHA;AAIAK;AACAU;AACA;AACA;AAPA,GA5CA;AAqDAC;AACAC,eADA,yBACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KATA;AAUAC,cAVA,sBAUAC,IAVA,EAUA;AACAJ;AACA;AACA,KAbA;AAcAK,YAdA,sBAcA;AAAA;;AACAL;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACAM;AACA;;AACA;;AACA;AACA;AACA;AACA,OAVA,EAUA,2BAVA;AAWA;AAhCA;AArDA","names":["name","inject","components","Circuit","data","activestep","supplier","detail","circuitNum","circuitList","circuitoptions","value","label","circuitvalue","traintime","download","state","currentpercentage","currentstatus","updatetime","is_finish","created","watch","console","methods","initCircuit","setprocess","step","startRun","clearInterval"],"sourceRoot":"src/views/centralization_FL","sources":["index.vue"],"sourcesContent":["<template>\n  <el-container style=\"height: 100vh;padding:1% 3% 0 3%\">\n    <el-aside style=\"padding: 20px 30px 0 0\">\n      <h3>选择验证电路</h3>\n      <div class=\"menu\">\n        可用电路数量\n        <el-input-number\n          v-model=\"circuitNum\"\n          controls-position=\"right\"\n          :min=\"1\"\n          :max=\"5\"\n          size=\"mini\"\n        ></el-input-number>\n      </div>\n      <div class=\"menu\">\n        选择电路\n        <el-select v-model=\"circuitvalue\"\n                   placeholder=\"选择一个验证电路\"\n                   size=\"mini\"\n                   @change=\"setprocess(1)\">\n          <el-option\n            v-for=\"item in circuitoptions\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n            :disabled=\"item.disabled\">\n          </el-option>\n        </el-select>\n      </div>\n      <el-divider></el-divider>\n      <h3>生成证明</h3>\n      <div style=\"text-align: center;margin-top: 10px\">\n        <el-progress :percentage=\"currentpercentage\" :status=\"currentstatus\"></el-progress>\n      </div>\n      <div style=\"text-align: center;margin-top: 12px\">\n        <div style=\"text-align: center;margin-top: 12px\">\n        <el-button type=\"success\"\r\n\t\t\t\t   @click=\"startRun()\"\n                   v-text=\"download\"\n                   size=\"medium\"\r\n\t\t\t\t   :disabled=\"is_finish\"\n                   >                   \n        </el-button>\n        </a>\n        </div>\n      </div>\n    </el-aside>\n    <el-container style=\"padding: 20px 50px\">\n      <el-header height=\"140px\">\n        <h3>流程</h3>\r\n\t\t<div>\r\n\t\t  <el-steps :active=activestep finish-status=\"success\" align-center>\r\n\t\t    <el-step title=\"选择验证电路\"></el-step>\r\n\t\t    <el-step title=\"生成证明\"></el-step>\r\n\t\t    <el-step title=\"完成\" icon=\"el-icon-finished\"></el-step>\r\n\t\t  </el-steps>\r\n\t\t</div>\n      </el-header>\n      <el-main style=\"border: lightgray dashed 1px;border-radius: 10px;background-color: #f7f8fb\"\n               v-loading=\"this.state==='synchronizing...'\" element-loading-text=\"blockchain synchronizing...\">\r\n\t\t<div style=\"display: flex;justify-content: flex-start;align-content: flex-start;flex-wrap: wrap\">\n\t\t  <Circuit v-for=\"(circuit,index) in circuitList\" :key=\"index\" :id=\"index\" :state=\"state[index]\" \n      :value=\"value[index]\" :supplier=\"supplier[index]\" :detail=\"detail[index]\" @change=\"changevalue\"></Circuit>\n        </div>\n      </el-main>\n    </el-container>\n  </el-container>\n</template>\n\n<script>\nimport {runFL,getRasPi,getResult,getState} from '@/api/user'\n  import Circuit from \"./components/Circuit\";\n  export default {\n    name: \"centralizationfl\",\n\tinject:['reload'],\n    components: {\n      Circuit\n    },\n    data() {\n      return {\n        activestep: 0,\n        supplier:[\"A\",\"B\",\"C\",\"D\",\"E\",],\n        detail:[\"--\",\"--\",\"--\",\"--\",\"--\",],\n        circuitNum: 5,\n        circuitList: [],\n        circuitoptions: [\n\t\t\t{\n\t\t\t\tvalue: '1', label: '验证电路1'\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue: '2', label: '验证电路2'\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue: '3', label: '验证电路3'\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue: '4', label: '验证电路4'\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue: '5', label: '验证电路5'\n\t\t\t}\n        ],\n        circuitvalue: '',\n        traintime: 100,\n        download:'点击生成',\n        state: ['待选用', '待选用', '待选用', '待选用', '待选用'],\n        currentpercentage: 0,\n        currentstatus: null,\n        updatetime: '', //\n\t\tvalue: [false, false, false, false, false],\r\n\t\tis_finish: false\n      }\n    },\n    created() {\n      this.initCircuit()\n    },\n    watch: {\n      circuitNum: function () {\n        this.initCircuit()\n      },\r\n\t  circuitvalue: function () {\r\n\t\tconsole.log(this.circuitvalue)\r\n\t\tthis.value[this.circuitvalue] = true\r\n\t  }\n    },\n    methods: {\n      initCircuit() {\n        this.circuitList = new Array(this.circuitNum)\n\t\t    for(var i = 5;i < this.circuitNum;i++){\n\t\t\t    this.state[i] = '待选用';\n\t\t\t    this.value[i] = false;\n\t\t\t\tthis.supplier[i]=\"--\";\n\t\t\t\tthis.detail[i]=\"--\";\n\t\t\t}\n      },\n      setprocess(step) {\n        console.log(\"set\")\n        this.activestep = step\n      },\n      startRun() {\n        console.log(this.circuitNum)\n\t\tif (this.circuitvalue === '') {\n\t\t\tthis.$message.error('请先选择一个验证电路.');\n\t\t\treturn\n\t\t}\n        this.setprocess(2)\t\t\n\t\tlet interval = setInterval(() => {\n\t\t  this.currentpercentage += 1\n\t\t  this.currentstatus = null\n\t\t  if (this.currentpercentage === 100) {\r\n\t\t\tclearInterval(interval)\n\t\t    this.currentstatus = 'success'\n\t\t    this.setprocess(3)\r\n\t\t\tthis.is_finish = true\r\n\t\t\tthis.download = \"已生成\"\n\t\t\t}\t\n\t\t}, this.traintime * 500 / 1000)\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .menu {\n    margin-top: 12px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center\n  }\n</style>\n"]}]}