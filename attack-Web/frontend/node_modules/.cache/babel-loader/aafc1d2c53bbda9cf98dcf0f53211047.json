{"remainingRequest":"E:\\code\\iot-anomaly-web-master\\node_modules\\babel-loader\\lib\\index.js!E:\\code\\iot-anomaly-web-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\code\\iot-anomaly-web-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\code\\iot-anomaly-web-master\\src\\views\\dashboard\\alliance_information\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\code\\iot-anomaly-web-master\\src\\views\\dashboard\\alliance_information\\index.vue","mtime":1630065466000},{"path":"E:\\code\\iot-anomaly-web-master\\babel.config.js","mtime":1630065466000},{"path":"E:\\code\\iot-anomaly-web-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\code\\iot-anomaly-web-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\code\\iot-anomaly-web-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\code\\iot-anomaly-web-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ2V0QWxsaSBhcyBfZ2V0QWxsaSB9IGZyb20gJ0AvYXBpL3VzZXInOwppbXBvcnQgeyByZWFkeSB9IGZyb20gJ0AvYXBpL3VzZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgZmlsdGVyczogewogICAgc3RhdHVzRmlsdGVyOiBmdW5jdGlvbiBzdGF0dXNGaWx0ZXIoc3RhdHVzKSB7CiAgICAgIHZhciBzdGF0dXNNYXAgPSB7CiAgICAgICAgc3VjY2VzczogJ+WcqOe6vycsCiAgICAgICAgcGVuZGluZzogJ+emu+e6vycKICAgICAgfTsKICAgICAgcmV0dXJuIHN0YXR1c01hcFtzdGF0dXNdOwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIHJlYWR5U3RhdHVzOiAn5pyq5YeG5aSHJywKICAgICAgc2VhcmNoOiAnJywKICAgICAgcmVmcmVzaDogJ+WIt+aWsOeKtuaAgScsCiAgICAgIHBhcmFtRm9ybTE6IHsKICAgICAgICBtc2c6ICdyZWFkeScKICAgICAgfSwKICAgICAgcGFyYW1Gb3JtMjogewogICAgICAgIG1zZzogJ2dldHJlYWR5JwogICAgICB9LAogICAgICB0aW1lcjogbnVsbCAvL+WumuaXtuWZqOWQjeensAoKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB0aGlzLmdldEFsbGkoKTsKICAgIHRoaXMucmVhZHkyKCk7CiAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICBzZXRUaW1lb3V0KF90aGlzLmdldEFsbGkoKSwgMCk7CiAgICB9LCAxMDAwICogMzApOwogIH0sCiAgbWV0aG9kczogewogICAgcmVhZHkxOiBmdW5jdGlvbiByZWFkeTEoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmVhZHkodGhpcy5wYXJhbUZvcm0xKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMi5yZWFkeVN0YXR1cyA9ICflt7Llh4blpIcnOwogICAgICB9KTsKICAgIH0sCiAgICByZWFkeTI6IGZ1bmN0aW9uIHJlYWR5MigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZWFkeSh0aGlzLnBhcmFtRm9ybTIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgIGlmIChyZXNwb25zZS5tc2cgPT0gJ+WHhuWkhycpIF90aGlzMy5yZWFkeVN0YXR1cyA9ICflt7Llh4blpIcnO2Vsc2UgX3RoaXMzLnJlYWR5U3RhdHVzID0gJ+acquWHhuWkhyc7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZUVkaXQ6IGZ1bmN0aW9uIGhhbmRsZUVkaXQoaW5kZXgsIHJvdykgewogICAgICBjb25zb2xlLmxvZyhpbmRleCwgcm93KTsKICAgIH0sCiAgICBoYW5kbGVEZWxldGU6IGZ1bmN0aW9uIGhhbmRsZURlbGV0ZShpbmRleCwgcm93KSB7CiAgICAgIGNvbnNvbGUubG9nKGluZGV4LCByb3cpOwogICAgfSwKICAgIGdldEFsbGk6IGZ1bmN0aW9uIGdldEFsbGkoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgX2dldEFsbGkoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgY29uc29sZS5sb2coKTsgLy/ojrflj5borr7lpIfmlbDph48KCiAgICAgICAgdmFyIGNvdW50ID0gMDsKCiAgICAgICAgZm9yICh2YXIgaSBpbiBkYXRhKSB7CiAgICAgICAgICBjb3VudCsrOwogICAgICAgIH0KCiAgICAgICAgY29uc29sZS5sb2coY291bnQpOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKICAgICAgICAgIF90aGlzNC4kc2V0KF90aGlzNC50YWJsZURhdGEsIGksIGRhdGFbaV0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsKICAgICAgdGhpcy50aW1lciA9IG51bGw7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;AACA;AACA;AACAA;AACAC,gBADA,wBACAC,MADA,EACA;AACA;AACAC,qBADA;AAEAC;AAFA;AAIA;AACA;AAPA,GADA;AAUAC,MAVA,kBAUA;AACA;AACAC,mBADA;AAEAC,wBAFA;AAGAC,gBAHA;AAIAC,qBAJA;AAKAC;AACAC;AADA,OALA;AAQAC;AACAD;AADA,OARA;AAWAE,iBAXA,CAWA;;AAXA;AAaA,GAxBA;AAyBAC,SAzBA,qBAyBA;AAAA;;AACA;AACA;AACA;AACAC;AACA,KAFA,EAEA,SAFA;AAGA,GA/BA;AAgCAC;AACAC,UADA,oBACA;AAAA;;AACAC;AACA;AACA,OAFA;AAIA,KANA;AAOAC,UAPA,oBAOA;AAAA;;AACAD;AACAE;AACA,kCACA,2BADA,KAGA;AACA,OANA;AAOA,KAfA;AAgBAC,cAhBA,sBAgBAC,KAhBA,EAgBAC,GAhBA,EAgBA;AACAH;AACA,KAlBA;AAmBAI,gBAnBA,wBAmBAF,KAnBA,EAmBAC,GAnBA,EAmBA;AACAH;AACA,KArBA;AAsBAK,WAtBA,qBAsBA;AAAA;;AACAA;AACAL;AACA;AACAA,sBAHA,CAIA;;AACA;;AACA;AACAM;AACA;;AACAN;;AACA;AACA;AACA;AACA,OAbA;AAcA,KArCA;AAsCAO,iBAtCA,2BAsCA;AACAC;AACA;AACA;AAzCA;AAhCA","names":["filters","statusFilter","status","success","pending","data","tableData","readyStatus","search","refresh","paramForm1","msg","paramForm2","timer","created","setTimeout","methods","ready1","ready","ready2","console","handleEdit","index","row","handleDelete","getAlli","count","beforeDestroy","clearInterval"],"sourceRoot":"src/views/dashboard/alliance_information","sources":["index.vue"],"sourcesContent":["<template>\n\t<el-card>\n\t\t<el-col>\n\t\t\t<div class=\"cardpanel\">\n\t\t\t\t<el-col :xs=\"12\" :sm=\"12\" :lg=\"7\" class=\"card-panel-col\">\n\t\t\t\t  <div class=\"card-panel\" @click=\"ready1()\">\n\t\t\t\t\t<div class=\"card-panel-icon-wrapper icon-money\">\n\t\t\t\t\t  <svg-icon icon-class=\"link\" class-name=\"card-panel-icon\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"card-panel-description\">\n\t\t\t\t\t  <div class=\"card-panel-num\">\n\t\t\t\t\t\t准备状态\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <br />\n\t\t\t\t\t  <div class=\"card-panel-text\">\n\t\t\t\t\t\t{{readyStatus}}\n\t\t\t\t\t  </div>\n\t\t\t\t\t</div>\n\t\t\t\t  </div>\n\t\t\t\t</el-col>\n\t\t\t</div>\n\t\t</el-col>\n\t\t\t<el-col>\n\t\t\t\t<div>\n\t\t\t\t\t<h2><svg-icon icon-class=\"list\" style=\"color: #2a68a7; margin-right: 10px;\"/>企业列表  <el-button type=\"primary\"\n\t\t\t\t\t           v-text=\"refresh\"\n\t\t\t\t\t           @click=\"getAlli()\"\n\t\t\t\t\t           size=\"medium\"\n\t\t\t\t\t           >\n\t\t\t\t\t</el-button></h2>\n\t\t\t\t</div>\n\t\t\t</el-col>\t\n\t\t<el-table\n\t\t  :data=\"tableData.filter(data => !search || data.name.toLowerCase().includes(search.toLowerCase()))\"\n\t\t  height=\"400\" style=\"width: 100%\">\n\t\t  <el-table-column\n\t\t    label=\"ID\"\n\t\t    prop=\"id\" \n\t\t\twidth=\"100px\" align=\"center\">\n\t\t  </el-table-column>\n\t\t  <el-table-column\n\t\t    label=\"企业名\"\n\t\t    prop=\"name\" align=\"center\">\n\t\t  </el-table-column>\n\t\t<el-table-column\n\t\t      prop=\"run_state\"\n\t\t      label=\"在线情况\"\n\t\t      width=\"100\" align=\"center\">\n\t\t      <template slot-scope=\"scope\">\n\t\t        <el-tag\n\t\t          :type=\"scope.row.run_state === '在线' ? 'success' : 'info'\"\n\t\t          close-transition>{{scope.row.run_state}}</el-tag>\n\t\t      </template>\n\t\t    </el-table-column>\n\t\t  <el-table-column\n\t\t    align=\"right\">\n\t\t    <template slot=\"header\" slot-scope=\"scope\">\n\t\t      <el-input\n\t\t        v-model=\"search\"\n\t\t        size=\"mini\"\n\t\t        placeholder=\"输入关键字搜索\"\n\t\t\t  prefix-icon=\"el-icon-search\" />\n\t\t    </template>\n\t\t  </el-table-column>\n\t\t</el-table>\n\t</el-card>\n\t\n</template>\n\n<script>\nimport {getAlli} from '@/api/user'\nimport {ready} from '@/api/user'\n  export default {\n\t  filters: {\n\t    statusFilter(status) {\n\t      const statusMap = {\n\t        success: '在线',\n\t        pending: '离线'\n\t      }\n\t      return statusMap[status]\n\t    },\n\t\t},\n    data() {\n      return {\n        tableData: [],\n\t\t\t\treadyStatus:'未准备',\n\t\t\t\t\t\tsearch: '',\n\t\t\t\trefresh:'刷新状态',\n\t\t\t\tparamForm1:{\n\t\t\t\t\tmsg: 'ready'\n\t\t\t\t},\n\t\t\t\tparamForm2:{\n\t\t\t\t\tmsg: 'getready'\n\t\t\t\t},\n\t\t\t\ttimer: null //定时器名称\n      }\n    },\n\tcreated(){\n\t  this.getAlli()\n\t  this.ready2()\n\t\tthis.timer = setInterval(() => {\n\t\t\tsetTimeout(this.getAlli(), 0)\n\t\t}, 1000 * 30)\n\t},\n    methods: {\n\t\tready1(){\n\t\t\tready(this.paramForm1).then(response=>{\n\t\t\t\tthis.readyStatus='已准备'\n\t\t\t})\n\t\t\t\n\t\t},\n\t\tready2(){\n\t\t\tready(this.paramForm2).then(response=>{\n\t\t\t\tconsole.log(response)\n\t\t\t\tif(response.msg == '准备')\n\t\t\t\t\tthis.readyStatus='已准备'\n\t\t\t\telse\n\t\t\t\t\tthis.readyStatus='未准备'\n\t\t\t})\t\n\t\t},\n      handleEdit(index, row) {\n        console.log(index, row);\n      },\n      handleDelete(index, row) {\n        console.log(index, row);\n      },\n\t  getAlli(){\n\t    getAlli().then(response => {\n\t\t\tconsole.log(response)\n\t      const { data } = response \n\t      console.log()\n\t      //获取设备数量\n\t      var count = 0\n\t      for(var i in data){\n\t        count ++\n\t      }\n\t      console.log(count)\n\t      for(var i = 0;i<count;i++){\n\t      this.$set(this.tableData,i,data[i])\n\t      }\n\t    })\n\t  },\n\t\tbeforeDestroy() {\n\t\t\tclearInterval(this.timer);\n\t\t\tthis.timer = null;\n\t\t}\n    },\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n\n  .card-panel-col {\n    margin-bottom: 32px;\n  }\n\n  .card-panel {\n    height: 108px;\n    cursor: pointer;\n    font-size: 12px;\n    position: relative;\n    overflow: hidden;\n    color: #666;\n    background: #fff;\n    box-shadow: 4px 4px 40px rgba(0, 0, 0, .05);\n    border-color: rgba(0, 0, 0, .05);\n\n    &:hover {\n      .card-panel-icon-wrapper {\n        color: #fff;\n      }\n\n      .icon-people {\n        background: #40c9c6;\n      }\n\n      .icon-message {\n        background: #36a3f7;\n      }\n\n      .icon-money {\n        background: #f4516c;\n      }\n\n      .icon-shopping {\n        background: #34bfa3\n      }\n    }\n\n    .icon-people {\n      color: #40c9c6;\n    }\n\n    .icon-message {\n      color: #36a3f7;\n    }\n\n    .icon-money {\n      color: #f4516c;\n    }\n\n    .icon-shopping {\n      color: #34bfa3\n    }\n\n    .card-panel-icon-wrapper {\n      float: left;\n      margin: 14px 0 0 14px;\n      padding: 16px;\n      transition: all 0.38s ease-out;\n      border-radius: 6px;\n    }\n\n    .card-panel-icon {\n      float: left;\n      font-size: 48px;\n    }\n\n    .card-panel-description {\n      float: right;\n      font-weight: bold;\n      margin: 26px;\n      margin-left: 0px;\n\n      .card-panel-text {\n        line-height: 18px;\n        color: rgba(0, 0, 0, 0.45);\n        font-size: 16px;\n        margin-bottom: 12px;\n      }\n\n      .card-panel-num {\n        font-size: 20px;\n      }\n    }\n}\n\n@media (max-width:550px) {\n  .card-panel-description {\n    display: none;\n  }\n\n  .card-panel-icon-wrapper {\n    float: none !important;\n    width: 100%;\n    height: 100%;\n    margin: 0 !important;\n\n    .svg-icon {\n      display: block;\n      margin: 14px auto !important;\n      float: none !important;\n    }\n  }\n}\n</style>\n"]}]}