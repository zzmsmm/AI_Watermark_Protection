{"remainingRequest":"E:\\code\\iot-anomaly-web-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\code\\iot-anomaly-web-master\\src\\views\\centralization_FL\\components\\Client.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\code\\iot-anomaly-web-master\\src\\views\\centralization_FL\\components\\Client.vue","mtime":1630065466000},{"path":"E:\\code\\iot-anomaly-web-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\code\\iot-anomaly-web-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\code\\iot-anomaly-web-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\code\\iot-anomaly-web-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiAgZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogIkNsaWVudCIsCiAgICBwcm9wczogewogICAgICBpZDogMCwKICAgICAgc3RhdGU6ICcnLAogICAgICByZWFkb25seTogZmFsc2UsCiAgICAgIGxvc3M6ICcnLAogICAgICBhY2N1OiAnJywKICAgICAgLy9zYW1wbGVzOiAwLAogICAgICAvL3NhbXBsZTogMCwKICAgICAgLy9yZXN1bHQ6IG51bGwsCiAgICAgIC8vcmV3YXJkOiAwLAogICAgICAvL2NsaWVudG51bTogMCwKICAgICAgLy9ibG9ja2hlaWdodDogMCwKCSAgdmFsdWU6IGZhbHNlCiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICAvL3Bvd2VyczogNCwKICAgICAgICBjb2xvcnM6IHsyOiAnIzMyQ0QzMicsIDQ6ICcjMzJDRDMyJywgNTogJyMzMkNEMzInfSwKICAgICAgICAvL3BlcmNlbnRhZ2U6IDAsCiAgICAgICAgLy9zdGF0dXM6IG51bGwsCiAgICAgICAgc2FtcGxlczogMjAsCiAgICAgICAgbG9zc3M6IHRoaXMubG9zcywKICAgICAgICBhY2N1czogdGhpcy5hY2N1LAogICAgICAgIC8vd2lubmVyOiAnICcsCgkJCS8vdmFsdWU6IGZhbHNlCiAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CgkJCgkJY2hhbmdlc3RhdGUoKXsKCQkJdGhpcy4kZW1pdCgiY2hhbmdlIiwgdGhpcy52YWx1ZSwgdGhpcy5pZCkKCQkJaWYgKHRoaXMuc3RhdGUgPT09ICflvoXpgInnlKgnICYmIHRoaXMudmFsdWUgPT09IHRydWUpIHsKCQkJCXRoaXMuc3RhdGUgPSAn5bey6YCJ55SoJwoJCQl9CgkJCWVsc2UgewoJCQkJdGhpcy5zdGF0ZSA9ICflvoXpgInnlKgnCgkJCX0KCQl9Cgl9LAogIGNvbXB1dGVkOiB7CiAgICAvKmNvbXB1dGVkTG9zcygpewogICAgICAgIHJldHVybiB0aGlzLmxvc3MKICAgICAgIH0sCiAgICBjb21wdXRlZEFjY3UoKXsKICAgICAgICByZXR1cm4gdGhpcy5hY2N1ICAgCiAgICB9LCovCgogIH0sCiAgICAvKmNyZWF0ZWQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdhZGQnLCB7CiAgICAgICAgaWQ6IHRoaXMuaWQsCiAgICAgICAgcG93ZXI6IHRoaXMucG93ZXIKICAgICAgfSk7CiAgICB9LAogICAgZGVzdHJveWVkOiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgncmVtb3ZlJywgewogICAgICAgIGlkOiB0aGlzLmlkLAogICAgICAgIHBvd2VyOiB0aGlzLnBvd2VyCiAgICAgIH0pCiAgICB9LCovCiAgICB3YXRjaDogewogICAgICAgICdsb3NzJzogZnVuY3Rpb24gKHZhbCkgey8v55uR5ZCscHJvcHPkuK3nmoTlsZ7mgKcKICAgICAgICAgIHRoaXMubG9zc3MgPSB2YWw7CiAgICAgICAgfSwKICAgICAgICAnYWNjdSc6IGZ1bmN0aW9uICh2YWwpIHsvL+ebkeWQrHByb3Bz5Lit55qE5bGe5oCnCiAgICAgICAgICB0aGlzLmFjY3VzID0gdmFsOwogICAgICAgIH0sCgogICAgICAgCiAgICAgICAKICAgICAgLyoKICAgICAgYmxvY2toZWlnaHQ6IGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICB0aGlzLm15YmxvY2toZWlnaHQgPSB2YWwKICAgICAgfSwKICAgICAgcG93ZXI6IGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3VwZGF0ZScsIHsKICAgICAgICAgIGlkOiB0aGlzLmlkLAogICAgICAgICAgcG93ZXI6IHRoaXMucG93ZXIKICAgICAgICB9KQogICAgICB9LAogICAgICByZXN1bHQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICBsZXQgZmxhZyA9IHRoaXMucG93ZXIgKiAyIC0gMQogICAgICAgIHRoaXMubG9zcyA9ICh0aGlzLnJlc3VsdFswXVtmbGFnXSAtIHRoaXMuc2FtcGxlcyAvIDEwMDAgKiAwLjAwMSArIE1hdGgucmFuZG9tKCkgKiAwLjAwMSkudG9GaXhlZCg0KQogICAgICAgIHRoaXMuYWNjdSA9ICh0aGlzLnJlc3VsdFsxXVtmbGFnXSArIHRoaXMuc2FtcGxlcyAvIDEwMDAgKiAwLjAwMSArIE1hdGgucmFuZG9tKCkgKiAwLjAwMSkudG9GaXhlZCg0KQogICAgICB9LAogICAgICBzdGF0ZTogZnVuY3Rpb24gKHZhbCkgewogICAgICAgIGlmICh2YWwgPT09ICforq3nu4PkuK0uLi4nKSB7CiAgICAgICAgICB0aGlzLndpbm5lciA9ICcgJwogICAgICAgIH0KICAgICAgICBpZiAodmFsID09PSAnc3luY2hyb25pemluZy4uLicpIHsKICAgICAgICAgIGxldCB3aW5uZXJJZCA9IHRoaXMuJHN0b3JlLmdldHRlcnMuY2FuZGlkYXRlcwoKICAgICAgICAgIGlmICh0aGlzLmlkID09PSB3aW5uZXJJZCkgewogICAgICAgICAgICB0aGlzLm15YmxvY2toZWlnaHQgKz0gMQogICAgICAgICAgICB0aGlzLndpbm5lciA9ICdXSU5ORVInCiAgICAgICAgICB9CiAgICAgICAgICBpZiAodGhpcy5pZCA9PT0gd2lubmVySWQpIHsKICAgICAgICAgICAgdGhpcy5teXJld2FyZCA9ICh0aGlzLnJld2FyZCAqIDAuNyAvIHRoaXMuY2xpZW50bnVtICogdGhpcy5hY2N1ICsgdGhpcy5yZXdhcmQgKiAwLjIpLnRvRml4ZWQoMykKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMubXlyZXdhcmQgPSAodGhpcy5yZXdhcmQgKiAwLjcgLyB0aGlzLmNsaWVudG51bSAqIHRoaXMuYWNjdSkudG9GaXhlZCgzKQogICAgICAgICAgfQoKICAgICAgICB9CgogICAgICB9LCovCgkgIHZhbHVlOiBmdW5jdGlvbiAodmFsKXsKCQkgIGlmICh2YWwgPT09IHRydWUpIHsKCQkJICB0aGlzLnN0YXRlID0gJ+W3sumAieeUqCcKCQkgIH0KCQkgIGVsc2UgewoJCQkgIHRoaXMuc3RhdGUgPSAn5b6F6YCJ55SoJwoJCSAgfQoJICB9CiAgICB9CiAgfQo="},{"version":3,"sources":["Client.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Client.vue","sourceRoot":"src/views/centralization_FL/components","sourcesContent":["<template>\n  <el-card shadow=\"always\" body-style=\"padding:20px\"\n           style=\"height: 190px;width: 230px;margin: 15px;display: inline-block\"\n           v-loading=\"this.state==='mining...'\" element-loading-text=\"mining...\"\n           element-loading-spinner=\"el-icon-loading\">\n\n    <div style=\"display: flex;justify-content:space-around;align-items: center;font-weight: 600\">\n      <i class=\"el-icon-monitor\"></i>\n\n      <span>边缘节点 {{id+1}}</span>\n\t\t<el-switch\n\t\t  v-model=\"value\"\n\t\t  active-color=\"#13ce66\"\n\t\t  inactive-color=\"#c8c8c8\"\n\t\t  @change=\"changestate()\">\n\t\t</el-switch>\n      <span style=\"color: orange\"></span>\n    </div>\n\n    <div style=\"margin-top: 20px;display: flex;justify-content: space-between;align-items: center\">\n      <span>状态</span>\n      {{state}}\n    </div>\n\n    <div style=\"margin-top: 10px;display: flex;justify-content: space-between;align-items: center\">\n      <span>预算</span>\n      <el-input-number v-model=\"samples\" :min=\"0\" :step=\"1\" :max=\"1000\" size=\"mini\"\n                       :disabled=\"readonly\"></el-input-number>\n    </div>\n\n    <div style=\"margin-top: 10px;display: flex;justify-content: space-between;align-items: center\">\n      <span>准确率</span>\n      {{accu}}\n    </div>\n\n    <div style=\"margin-top: 10px;display: flex;justify-content: space-between;align-items: center\">\n      <span>损失</span>\n      {{loss}}\n    </div>\n  </el-card>\n</template>\n\n<script>\n  export default {\n    name: \"Client\",\n    props: {\n      id: 0,\n      state: '',\n      readonly: false,\n      loss: '',\n      accu: '',\n      //samples: 0,\n      //sample: 0,\n      //result: null,\n      //reward: 0,\n      //clientnum: 0,\n      //blockheight: 0,\n\t  value: false\n    },\n    data() {\n      return {\n        //powers: 4,\n        colors: {2: '#32CD32', 4: '#32CD32', 5: '#32CD32'},\n        //percentage: 0,\n        //status: null,\n        samples: 20,\n        losss: this.loss,\n        accus: this.accu,\n        //winner: ' ',\n\t\t\t//value: false\n      }\n    },\n    methods: {\n\t\t\n\t\tchangestate(){\n\t\t\tthis.$emit(\"change\", this.value, this.id)\n\t\t\tif (this.state === '待选用' && this.value === true) {\n\t\t\t\tthis.state = '已选用'\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.state = '待选用'\n\t\t\t}\n\t\t}\n\t},\n  computed: {\n    /*computedLoss(){\n        return this.loss\n       },\n    computedAccu(){\n        return this.accu   \n    },*/\n\n  },\n    /*created: function () {\n      this.$store.commit('add', {\n        id: this.id,\n        power: this.power\n      });\n    },\n    destroyed: function () {\n      this.$store.commit('remove', {\n        id: this.id,\n        power: this.power\n      })\n    },*/\n    watch: {\n        'loss': function (val) {//监听props中的属性\n          this.losss = val;\n        },\n        'accu': function (val) {//监听props中的属性\n          this.accus = val;\n        },\n\n       \n       \n      /*\n      blockheight: function (val) {\n        this.myblockheight = val\n      },\n      power: function (val) {\n        this.$store.commit('update', {\n          id: this.id,\n          power: this.power\n        })\n      },\n      result: function () {\n        let flag = this.power * 2 - 1\n        this.loss = (this.result[0][flag] - this.samples / 1000 * 0.001 + Math.random() * 0.001).toFixed(4)\n        this.accu = (this.result[1][flag] + this.samples / 1000 * 0.001 + Math.random() * 0.001).toFixed(4)\n      },\n      state: function (val) {\n        if (val === '训练中...') {\n          this.winner = ' '\n        }\n        if (val === 'synchronizing...') {\n          let winnerId = this.$store.getters.candidates\n\n          if (this.id === winnerId) {\n            this.myblockheight += 1\n            this.winner = 'WINNER'\n          }\n          if (this.id === winnerId) {\n            this.myreward = (this.reward * 0.7 / this.clientnum * this.accu + this.reward * 0.2).toFixed(3)\n          } else {\n            this.myreward = (this.reward * 0.7 / this.clientnum * this.accu).toFixed(3)\n          }\n\n        }\n\n      },*/\n\t  value: function (val){\n\t\t  if (val === true) {\n\t\t\t  this.state = '已选用'\n\t\t  }\n\t\t  else {\n\t\t\t  this.state = '待选用'\n\t\t  }\n\t  }\n    }\n  }\n</script>\n\n<style scoped>\n</style>\n"]}]}