{"remainingRequest":"E:\\大创\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\大创\\frontend\\src\\views\\verify\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\大创\\frontend\\src\\views\\verify\\index.vue","mtime":1647761061887},{"path":"E:\\大创\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\大创\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\大创\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\大创\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7dXBsb2FkLCBwZXJtaXNzaW9ufSBmcm9tICdAL2FwaS91c2VyJwogIGV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJjZW50cmFsaXphdGlvbmZsIiwKCWluamVjdDpbJ3JlbG9hZCddLAogICAgY29tcG9uZW50czogewogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgIHJldHVybiB7DQoJCWZsYWc6IGZhbHNlLA0KCQlkaWFsb2dPZlVwbG9hZDogZmFsc2UsDQoJCWZpbGVMaXN0OiBbXSwKICAgICAgICBhY3RpdmVzdGVwOiAwLAogICAgICAgIHN1cHBsaWVyOlsiQSIsIkIiLCJDIiwiRCIsIkUiLF0sCiAgICAgICAgZGV0YWlsOlsiLS0iLCItLSIsIi0tIiwiLS0iLCItLSIsXSwKICAgICAgICBjaXJjdWl0TnVtOiA1LAogICAgICAgIGNpcmN1aXRMaXN0OiBbXSwKICAgICAgICBjaXJjdWl0b3B0aW9uczogWwoJCQl7CgkJCQl2YWx1ZTogJzEnLCBsYWJlbDogJ0NBXzEnCgkJCX0KICAgICAgICBdLAogICAgICAgIGNpcmN1aXR2YWx1ZTogJycsCiAgICAgICAgdHJhaW50aW1lOiAxMDAsCiAgICAgICAgZG93bmxvYWQ6ICfkuIvovb3lhazpkqUnLA0KCQlnZW5lcmF0ZTogJ+eCueWHu+S4iuS8oCcsCiAgICAgICAgc3RhdGU6IFsn5b6F6YCJ55SoJywgJ+W+hemAieeUqCcsICflvoXpgInnlKgnLCAn5b6F6YCJ55SoJywgJ+W+hemAieeUqCddLAogICAgICAgIGN1cnJlbnRwZXJjZW50YWdlOiAwLAogICAgICAgIGN1cnJlbnRzdGF0dXM6IG51bGwsCiAgICAgICAgdXBkYXRldGltZTogJycsIC8vCgkJdmFsdWU6IFtmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2VdLA0KCQlpc19maW5pc2g6IGZhbHNlCiAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVkKCkgewogICAgICB0aGlzLmluaXRDaXJjdWl0KCkNCgkgIHRoaXMuZ2V0UGVybWlzc2lvbigpCiAgICB9LAogICAgd2F0Y2g6IHsKICAgICAgY2lyY3VpdE51bTogZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuaW5pdENpcmN1aXQoKQogICAgICB9LA0KCSAgY2lyY3VpdHZhbHVlOiBmdW5jdGlvbiAoKSB7DQoJCWZvcih2YXIgaSA9IDA7aSA8IHRoaXMuY2lyY3VpdE51bTtpKyspew0KCQkJaWYoaSA9PSB0aGlzLmNpcmN1aXR2YWx1ZSAtIDEpIHRoaXMudmFsdWVbaV0gPSB0cnVlDQoJCQllbHNlIHRoaXMudmFsdWVbaV0gPSBmYWxzZQ0KCQl9DQoJICB9CiAgICB9LAogICAgbWV0aG9kczogew0KCQkJZ2V0UGVybWlzc2lvbigpIHsNCgkJCQlwZXJtaXNzaW9uKCkudGhlbihyZXNwb25zZSA9PiB7DQoJCQkJCWlmKHJlc3BvbnNlLm1zZyA9PSAnMicpIHsNCgkJCQkJCXRoaXMuZmxhZyA9IHRydWU7DQoJCQkJCX0NCgkJCQkJZWxzZSB0aGlzLmZsYWcgPSBmYWxzZTsNCgkJCQl9KTsNCgkJCX0sDQoJCQlzaG93RGlhbG9nKCkgew0KCQkJdGhpcy5kaWFsb2dPZlVwbG9hZCA9IHRydWUNCgkJCX0sCiAgICAgIGluaXRDaXJjdWl0KCkgewogICAgICAgIHRoaXMuY2lyY3VpdExpc3QgPSBuZXcgQXJyYXkodGhpcy5jaXJjdWl0TnVtKQoJCSAgICBmb3IodmFyIGkgPSA1O2kgPCB0aGlzLmNpcmN1aXROdW07aSsrKXsKCQkJICAgIHRoaXMuc3RhdGVbaV0gPSAn5b6F6YCJ55SoJzsKCQkJICAgIHRoaXMudmFsdWVbaV0gPSBmYWxzZTsKCQkJCXRoaXMuc3VwcGxpZXJbaV09Ii0tIjsKCQkJCXRoaXMuZGV0YWlsW2ldPSItLSI7CgkJCX0KICAgICAgfSwKICAgICAgc2V0cHJvY2VzcyhzdGVwKSB7CiAgICAgICAgY29uc29sZS5sb2coInNldCIpCiAgICAgICAgdGhpcy5hY3RpdmVzdGVwID0gc3RlcAogICAgICB9LA0KCSAgaGFuZGxlQ2hhbmdlKGZpbGUsIGZpbGVMaXN0KSB7IC8v5paH5Lu25pWw6YeP5pS55Y+YDQoJICAJdGhpcy5maWxlTGlzdCA9IGZpbGVMaXN0Ow0KCSAgfSwKICAgICAgY29uZmlybVVwbG9hZCgpIHsKICAgICAgICB0aGlzLnNldHByb2Nlc3MoMik7DQoJCXZhciBwYXJhbSA9IG5ldyBGb3JtRGF0YSgpOw0KCQl0aGlzLmZpbGVMaXN0LmZvckVhY2goDQoJCQkodmFsLCBpbmRleCkgPT4gew0KCQkJCXBhcmFtLmFwcGVuZCgiZmlsZSIsIHZhbC5yYXcpOw0KCQkJfQ0KCQkpOw0KCQl1cGxvYWQocGFyYW0pLnRoZW4ocmVzcG9uY2UgPT4gew0KCQkJaWYocmVzcG9uY2UubXNnID09PSAnc3VjY2VzcycpIHsNCgkJCQl0aGlzLmRpYWxvZ09mVXBsb2FkID0gZmFsc2U7DQoJCQkJbGV0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gew0KCQkJCSAgdGhpcy5jdXJyZW50cGVyY2VudGFnZSArPSAxDQoJCQkJICB0aGlzLmN1cnJlbnRzdGF0dXMgPSBudWxsDQoJCQkJICBpZiAodGhpcy5jdXJyZW50cGVyY2VudGFnZSA9PT0gMTAwKSB7DQoJCQkJCWNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpDQoJCQkJICAgIHRoaXMuY3VycmVudHN0YXR1cyA9ICdzdWNjZXNzJw0KCQkJCSAgICB0aGlzLnNldHByb2Nlc3MoMykNCgkJCQkJdGhpcy5pc19maW5pc2ggPSB0cnVlDQoJCQkJCXRoaXMuZ2VuZXJhdGUgPSAi5LiK5Lyg5oiQ5YqfIg0KCQkJCQl9CQ0KCQkJCX0sIHRoaXMudHJhaW50aW1lICogMTAwIC8gMTAwKQ0KCQkJfQkNCgkJfSk7CiAgICAgIH0KICAgIH0KICB9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/verify","sourcesContent":["<template>\n  <el-container v-if=\"flag\" style=\"height: 100vh;padding:1% 3% 0 3%\">\n    <el-aside style=\"padding: 20px 30px 0 0;width: 450px;\">\n      <h3>获取公钥</h3>\r\n      <div class=\"menu\">\r\n        选择认证中心\r\n        <el-select v-model=\"circuitvalue\"\r\n                   placeholder=\"选择一个认证中心\"\r\n                   size=\"mini\"\r\n                   @change=\"setprocess(1)\">\r\n          <el-option\r\n            v-for=\"item in circuitoptions\"\r\n            :key=\"item.value\"\r\n            :label=\"item.label\"\r\n            :value=\"item.value\"\r\n            :disabled=\"item.disabled\">\r\n          </el-option>\r\n        </el-select>\r\n      </div>\r\n      <div style=\"text-align: center;margin-top: 20px\">\r\n        <div style=\"text-align: center;margin-top: 12px\">\r\n      \t\t\t<a href=\"http://127.0.0.1:8000/download1/\">\r\n      \t\t\t\t<el-button type=\"warning\"\r\n      \t\t\t\t\t\t\t@click=\"\"\r\n      \t\t\t\t\t\t\tv-text=\"download\"\r\n      \t\t\t\t\t\t\tsize=\"medium\">\r\n      \t\t\t\t</el-button>\r\n      \t\t\t</a>\r\n        </div>\r\n      </div>\n    </el-aside>\n    <el-container style=\"padding: 20px 50px\">\n      <el-header height=\"140px\">\r\n\t\t<h3>提交电路</h3>\r\n\t\t<div style=\"text-align: center;margin-top: 10px\">\r\n\t\t  <el-progress :percentage=\"currentpercentage\" :status=\"currentstatus\"></el-progress>\r\n\t\t</div>\r\n\t\t<div style=\"text-align: center;margin-top: 20px\">\r\n\t\t  <div style=\"text-align: center;margin-top: 12px\">\r\n\t\t  <el-button type=\"success\"\r\n\t\t\t\t\t\t   @click=\"showDialog()\"\r\n\t\t             v-text=\"generate\"\r\n\t\t             size=\"medium\"\r\n\t\t\t\t\t\t   :disabled=\"is_finish\">                   \r\n\t\t  </el-button>\r\n\t\t  </div>\r\n\t\t</div>\n      </el-header>\r\n\t\t<el-dialog title=\"上传\" :visible.sync=\"dialogOfUpload\" width=\"50%\" style=\"text-align: center;\">\r\n\t\t\t<el-upload class=\"upload-demo\" action=\"#\" drag multiple :headers=\"headers\" :auto-upload=\"false\"\r\n\t\t\t :file-list=\"fileList\" :on-change=\"handleChange\">\r\n\t\t\t\t<i class=\"el-icon-upload\"></i>\r\n\t\t\t\t<div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\r\n\t\t\t\t<div class=\"el-upload__tip\" slot=\"tip\"></div>\r\n\t\t\t</el-upload>\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"dialogOfUpload = false\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"confirmUpload()\">上 传</el-button>\r\n\t\t\t</div>\t\r\n\t\t</el-dialog>\n    </el-container>\n  </el-container>\r\n\t<div v-else-if=\"!flag\">\r\n\t\t<h2>您无权查看此页面</h2>\r\n\t</div>\n</template>\n\n<script>\nimport {upload, permission} from '@/api/user'\n  export default {\n    name: \"centralizationfl\",\n\tinject:['reload'],\n    components: {\n    },\n    data() {\n      return {\r\n\t\tflag: false,\r\n\t\tdialogOfUpload: false,\r\n\t\tfileList: [],\n        activestep: 0,\n        supplier:[\"A\",\"B\",\"C\",\"D\",\"E\",],\n        detail:[\"--\",\"--\",\"--\",\"--\",\"--\",],\n        circuitNum: 5,\n        circuitList: [],\n        circuitoptions: [\n\t\t\t{\n\t\t\t\tvalue: '1', label: 'CA_1'\n\t\t\t}\n        ],\n        circuitvalue: '',\n        traintime: 100,\n        download: '下载公钥',\r\n\t\tgenerate: '点击上传',\n        state: ['待选用', '待选用', '待选用', '待选用', '待选用'],\n        currentpercentage: 0,\n        currentstatus: null,\n        updatetime: '', //\n\t\tvalue: [false, false, false, false, false],\r\n\t\tis_finish: false\n      }\n    },\n    created() {\n      this.initCircuit()\r\n\t  this.getPermission()\n    },\n    watch: {\n      circuitNum: function () {\n        this.initCircuit()\n      },\r\n\t  circuitvalue: function () {\r\n\t\tfor(var i = 0;i < this.circuitNum;i++){\r\n\t\t\tif(i == this.circuitvalue - 1) this.value[i] = true\r\n\t\t\telse this.value[i] = false\r\n\t\t}\r\n\t  }\n    },\n    methods: {\r\n\t\t\tgetPermission() {\r\n\t\t\t\tpermission().then(response => {\r\n\t\t\t\t\tif(response.msg == '2') {\r\n\t\t\t\t\t\tthis.flag = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse this.flag = false;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tshowDialog() {\r\n\t\t\tthis.dialogOfUpload = true\r\n\t\t\t},\n      initCircuit() {\n        this.circuitList = new Array(this.circuitNum)\n\t\t    for(var i = 5;i < this.circuitNum;i++){\n\t\t\t    this.state[i] = '待选用';\n\t\t\t    this.value[i] = false;\n\t\t\t\tthis.supplier[i]=\"--\";\n\t\t\t\tthis.detail[i]=\"--\";\n\t\t\t}\n      },\n      setprocess(step) {\n        console.log(\"set\")\n        this.activestep = step\n      },\r\n\t  handleChange(file, fileList) { //文件数量改变\r\n\t  \tthis.fileList = fileList;\r\n\t  },\n      confirmUpload() {\n        this.setprocess(2);\r\n\t\tvar param = new FormData();\r\n\t\tthis.fileList.forEach(\r\n\t\t\t(val, index) => {\r\n\t\t\t\tparam.append(\"file\", val.raw);\r\n\t\t\t}\r\n\t\t);\r\n\t\tupload(param).then(responce => {\r\n\t\t\tif(responce.msg === 'success') {\r\n\t\t\t\tthis.dialogOfUpload = false;\r\n\t\t\t\tlet interval = setInterval(() => {\r\n\t\t\t\t  this.currentpercentage += 1\r\n\t\t\t\t  this.currentstatus = null\r\n\t\t\t\t  if (this.currentpercentage === 100) {\r\n\t\t\t\t\tclearInterval(interval)\r\n\t\t\t\t    this.currentstatus = 'success'\r\n\t\t\t\t    this.setprocess(3)\r\n\t\t\t\t\tthis.is_finish = true\r\n\t\t\t\t\tthis.generate = \"上传成功\"\r\n\t\t\t\t\t}\t\r\n\t\t\t\t}, this.traintime * 100 / 100)\r\n\t\t\t}\t\r\n\t\t});\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .menu {\n    margin-top: 12px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center\n  }\n</style>\n"]}]}