{"remainingRequest":"E:\\大创\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\大创\\frontend\\src\\views\\enterprise_FL\\general_inf\\index.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"E:\\大创\\frontend\\src\\views\\enterprise_FL\\general_inf\\index.vue","mtime":1630065466000},{"path":"E:\\大创\\frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\大创\\frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\大创\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\大创\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\大创\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnBhbmVsLWdyb3VwIHsKICBtYXJnaW4tdG9wOiAxOHB4OwogIH0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/enterprise_FL/general_inf","sourcesContent":["<template>\n\t<div>\n\t\t<el-row :gutter=\"40\" class=\"panel-group\">\n\t\t  <cardpanel ref=\"cardDom\"></cardpanel>\t\t  \n\t\t</el-row>\n\t\t<el-card>\n\t\t<el-col span=\"12\">\n\t\t\t<rankchart ref=\"rankDom\"></rankchart>\n\t\t</el-col>\n\t\t<el-col span=\"12\">\n\t\t\t<incentivecurve ref=\"incentiveDom\"></incentivecurve>\n\t\t</el-col>\t\t\t\n\t\t</el-card>\n\n\t</div>  \n</template>\n\n<script>\nimport {getRank} from '@/api/user'\nimport cardpanel from './components/card_panel.vue'\nimport rankchart from './components/rankchart.vue'\nimport incentivecurve from './components/incentive_curve.vue'\n\nexport default {\n  components: {\n    cardpanel, rankchart, incentivecurve\n  },\n  data() {\n    return {\n  \t\ttimer: null //定时器名称\n    }\n  },\n  created(){\n\t  this.getRank()\n\t  this.timer = setInterval(() => {\n\t  \tsetTimeout(this.getRank(), 0)\n\t  }, 1000 * 5)\n  },\n  methods: {\n\tgetRank(){\n\t\t\n\t\tgetRank().then(response => {\n\t\t\tconst { data } = response\n\t\t\tthis.$refs.cardDom.role.rolename=data.rolename\n\t\t\t//this.$store.dispatch('user/get_rolename', data.rolename)\n\t\t\tconsole.log(data.rolename)\n\t\t\tthis.$refs.rankDom.option.series[0].data=data.stake\n\t\t\tthis.$refs.rankDom.my_id=data.id.indexOf(data.my_id)//获取my_id在列表中的位置，渲染成不同颜色\n\t\t\tfor(let i=this.$refs.rankDom.option.yAxis.data.length;i<data.id.length;i++)\n\t\t\t{\n\t\t\t\tthis.$refs.rankDom.option.yAxis.data.push(\"企业-\"+String(data.id[i]))\n\t\t\t}\t\t\t\n\t\t\tthis.$refs.incentiveDom.option.series[0].data=data.stakecurve\n\t\t\tfor(let i=this.$refs.incentiveDom.option.xAxis.data.length;i<data.stakecurve.length;i++)\n\t\t\t{\n\t\t\t\tthis.$refs.incentiveDom.option.xAxis.data.push(String(i+1))\n\t\t\t}\n\t\t\tconsole.log(this.$refs.rankDom.option.series[0].data)\n\t\t})\n\t},\n    handleSetLineChartData(type) {\n      this.$emit('handleSetLineChartData', type)\n    },\n\tbeforeDestroy() {\n\t\tclearInterval(this.timer);\n\t\tthis.timer = null;\n\t}\n  }\n}\n</script>\n\n<style>\n\t.panel-group {\n\t  margin-top: 18px;\n\t  }\n</style>\n"]}]}